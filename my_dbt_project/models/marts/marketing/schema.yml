version: 2

models:
  - name: channel_performance
    description: "Monthly channel performance combining marketing spend, signups, activations, revenue, ROI and CAC/CPA."
    meta:
      owner: "James Essiet"
      domain: "marketing"
    columns:
      - name: channel
        description: "Marketing channel."
        tests:
          - not_null
      - name: month
        description: "Month of aggregated performance."
      - name: signups_per_channel
        description: "Number of signups attributed to the channel."
      - name: activations_per_channel
        description: "Number of activations attributed to the channel."
      - name: mkt_spend
        description: "Total marketing spend for the month/channel."
      - name: avg_cac
        description: "Average cost per acquisition for that month/channel."
      - name: avg_cpa
        description: "Average cost per activation."
      - name: total_revenue
        description: "Total revenue generated by users acquired from that channel."
      - name: roi
        description: "Revenue divided by marketing spend."
      - name: conversion_rate
        description: "Ratio of activations to signups."
      - name: profit_margin
        description: "(Revenue - Spend) / Revenue"
      - name: roi_tier
        description: "Performance classification based on ROI."

  - name: roi_efficiency
    description: "Monthly ROI performance combining marketing spend, signups, activations, revenue, ROI and CAC/CPA."
    meta:
      owner: "James Essiet"
      domain: "marketing"
    columns:
      - name: acquisition_channel
        description: "User acquisition channel."
        tests:
          - not_null
      - name: signup_month
        description: "Month of aggregated performance."
      - name: avg_ltv_30d
        description: "Average LTV per user in 30 days."
      - name: avg_ltv_90d
        description: "Average LTV per user in 90 days."
      - name: avg_ltv_total
        description: "Average LTV per user overall."
      - name: cac
        description: "Average cost per acquisition for that month/channel."
      - name: payback_ratio_30d
        description: "Average LTV in 30 days / CAC."
      - name: payback_ratio_90d
        description: "Average LTV in 90 days / CAC."
      - name: payback_ratio
        description: "Average LTV divided by CAC."
      - name: payback_status_90d
        description: "Categorical labelling of channels based on closure to repaying marketing spend within 90 days."
      - name: roi_tier
        description: "Performance classification based on ROI."
